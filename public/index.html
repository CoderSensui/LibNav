<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#131314">
    <title>LibNav | Smart Library</title>
    <link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script defer src="https://unpkg.com/lucide@latest"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="offline-banner" class="offline-banner">
        <div class="wifi-icon-anim"><i data-lucide="wifi-off"></i></div>
        <div class="offline-text">
            <strong>You are offline</strong>
            <span>Browsing cached library version</span>
        </div>
    </div>

    <div id="toast-notification" class="toast">
        <i data-lucide="check-circle-2"></i> <span>Link Copied to Clipboard!</span>
    </div>

    <header class="app-header top-nav">
        <div class="header-left">
            <button id="hamburger-btn" class="icon-btn"><i data-lucide="menu"></i></button>
            <div id="desktop-logo" class="top-logo desktop-logo" style="margin-left: 10px; cursor: pointer;">LibNav</div>
        </div>
        <div class="header-right">
            <nav class="desktop-nav">
                <a href="#" class="desk-nav-item active" data-section="home"><i data-lucide="home"></i> Home</a>
                <a href="#" class="desk-nav-item" data-section="tools"><i data-lucide="wrench"></i> Tools</a>
                <a href="#" class="desk-nav-item" data-section="about"><i data-lucide="info"></i> About</a>
            </nav>
            <button id="secret-admin-btn" class="icon-btn" style="border:none; background:transparent;"><i data-lucide="shield" style="opacity:0.3;"></i></button>
        </div>
    </header>

    <div id="side-menu-overlay" class="menu-overlay"></div>
    <div id="side-menu" class="side-menu">
        <div class="menu-header">
            <h2><i data-lucide="library"></i> Categories</h2>
            <button id="close-menu" class="close-btn-side"><i data-lucide="x"></i></button>
        </div>
        <div class="menu-content">
            <button class="menu-item active" data-genre="All"><i data-lucide="book-open"></i> <span>All Books</span></button>
            <div class="divider"></div>
            <button class="menu-item" data-genre="Fiction"><i data-lucide="sparkles"></i> <span>Fiction</span></button>
            <button class="menu-item" data-genre="Filipiniana"><i data-lucide="flag"></i> <span>Filipiniana</span></button>
            <button class="menu-item" data-genre="Filipiniana Reference"><i data-lucide="library"></i> <span>Filipiniana Ref.</span></button>
            <button class="menu-item" data-genre="Science/Math"><i data-lucide="flask-conical"></i> <span>Science/Math</span></button>
            <button class="menu-item" data-genre="Religion"><i data-lucide="cross"></i> <span>Religion</span></button>
        </div>
    </div>

    <main class="main-container">
        
        <section id="home-section" class="content-section active">
            <div id="hero" class="hero">
                <div id="minion-container"><img id="minion-sprite" src="https://media.tenor.com/N_8Yk_wO8qIAAAAi/minion-running.gif"></div>
                <h1 id="hero-title" class="hero-title mobile-only-logo">LibNav</h1>
                <p class="hero-subtitle">Find your way to the story</p>
            </div>

            <div class="search-wrapper">
                <i data-lucide="search" class="search-icon"></i>
                <input type="text" id="search-input" placeholder="Search title or author..." autocomplete="off">
               <div class="search-actions">
                    <button id="quick-bookmark-btn" class="icon-btn" title="My Reading List"><i data-lucide="bookmark"></i></button>
                    <button id="mic-btn" class="icon-btn mobile-only"><i data-lucide="mic"></i></button>
                    <button id="filter-toggle" class="icon-btn"><i data-lucide="sliders-horizontal"></i></button>
                </div>
                
                <div id="autocomplete-dropdown" class="autocomplete-dropdown"></div>
                <div id="recent-searches-dropdown" class="autocomplete-dropdown"></div>
                
                <div id="filter-menu" class="filter-dropdown">
                    <label class="filter-option highlight"><input type="checkbox" value="All"><span class="checkmark"></span><span>All Genres</span></label>
                    <div class="divider"></div>
                    <label class="filter-option"><input type="checkbox" value="Fiction"><span class="checkmark"></span><span>Fiction</span></label>
                    <label class="filter-option"><input type="checkbox" value="Filipiniana"><span class="checkmark"></span><span>Filipiniana</span></label>
                    <label class="filter-option"><input type="checkbox" value="Filipiniana Reference"><span class="checkmark"></span><span>Filipiniana Ref.</span></label>
                    <label class="filter-option"><input type="checkbox" value="Science/Math"><span class="checkmark"></span><span>Science/Math</span></label>
                    <label class="filter-option"><input type="checkbox" value="Religion"><span class="checkmark"></span><span>Religion</span></label>
                </div>
            </div>

            <div id="featured-container"></div>
            <div id="results-area" class="shelf-grid"></div>
        </section>

        <section id="tools-section" class="content-section">
            <div class="card-box">
                <div class="card-header">
                    <div class="icon-box"><i data-lucide="wrench"></i></div>
                    <h2>System Tools</h2>
                </div>
                <div class="action-list">
                    <button id="section-theme-toggle" class="action-btn">
                        <i id="theme-btn-icon" data-lucide="sun"></i> 
                        <span id="theme-btn-text">Switch to Light Mode</span>
                    </button>
                    <button id="section-stats-btn" class="action-btn"><i data-lucide="bar-chart-2"></i> View Live Statistics</button>
                    <button id="section-feedback-btn" class="action-btn"><i data-lucide="message-square"></i> Send feedback to developer</button>
                </div>
                <div class="tip-box">
                    <div class="tip-header"><i data-lucide="lightbulb"></i> Quick Tip</div>
                    <p id="dynamic-tip">Loading tip...</p>
                </div>
            </div>
        </section>

        <section id="about-section" class="content-section">
            <div class="card-box">
              <div class="card-header">
                    <div class="icon-box"><i data-lucide="compass"></i></div>
                    <h2>About LibNav</h2>
                </div>
                <p class="about-desc">LibNav is an exclusive smart library navigation system built for Notre Dame - Siena College of General Santos City. It bridges the gap between our digital catalog and physical shelves, modernizing the campus reading experience.</p>
                
                <div class="card-header secondary">
                    <div class="icon-box"><i data-lucide="book-open-check"></i></div>
                    <h2>How to Use</h2>
                </div>
                
                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-num">1</div>
                        <div class="step-text"><strong>Search</strong><span>Find your desired book via text input or voice recognition.</span></div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">2</div>
                        <div class="step-text"><strong>Navigate</strong><span>Tap a book cover to view the step-by-step visual map to its exact shelf.</span></div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">3</div>
                        <div class="step-text"><strong>Companion Mode</strong><span>If you are on a PC, simply scan the QR code to seamlessly take the map with you on your phone.</span></div>
                    </div>
                </div>

                <div class="tip-box warning">
                    <div class="tip-header"><i data-lucide="alert-triangle"></i> Important Reminder</div>
                    <p>Don't forget to formally check out the book at the front desk before leaving the library!</p>
                </div>
            </div>
        </section>

        <button id="back-to-top-btn" class="floating-btn"><i data-lucide="arrow-up"></i></button>
    </main>

    <nav class="bottom-nav">
        <a href="#" id="bottom-home-btn" data-section="home" class="nav-tab active"><i data-lucide="home"></i><span>Home</span></a>
        <a href="#" data-section="tools" class="nav-tab"><i data-lucide="wrench"></i><span>Tools</span></a>
        <a href="#" data-section="about" class="nav-tab"><i data-lucide="info"></i><span>About</span></a>
    </nav>

    <div id="custom-popup" class="modal-overlay" style="z-index: 9999 !important;">
        <div class="popup-box">
            <div id="popup-icon" class="popup-icon-wrapper"><i data-lucide="bell"></i></div>
            <h3 id="popup-title">Alert</h3>
            <p id="popup-message">Message</p>
            <div class="popup-actions">
                <button id="popup-cancel" class="btn-secondary" style="display:none;">Cancel</button>
                <button id="popup-confirm" class="btn-primary">OK</button>
            </div>
        </div>
    </div>

    <div id="book-modal" class="modal-overlay">
        <div class="modal-box book-layout">
            <button id="top-share-btn" class="share-btn-top"><i data-lucide="share-2"></i></button>
            <button class="close-btn"><i data-lucide="x"></i></button>
            
            <div class="book-modal-grid">
                <div class="book-left">
                    <span id="modal-book-id" style="display: none;"></span>

                    <div class="unified-modal-header">
                        <div class="umh-book-section">
                            <div class="umh-cover-wrap skeleton"><img id="umh-book-cover" src=""></div>
                            <div class="umh-book-info">
                                <h2 id="umh-title">Title</h2>
                                <span id="umh-genre" class="book-badge">Genre</span>
                            </div>
                        </div>
                        
                        <div class="umh-divider"></div>
                        
                        <div class="umh-author-section">
                            <div class="umh-author-wrap skeleton"><img id="umh-author-pic" src=""></div>
                            <h3 id="umh-author-name">Author</h3>
                        </div>
                    </div>
                    <button id="show-qr-btn" class="btn-secondary full-width desktop-only-flex mt">
                        <i data-lucide="qr-code"></i> Send Map to Mobile
                    </button>
                </div>
                <div class="book-right">
                    <div id="carousel-wrapper" class="map-carousel">
                        <div id="swipe-hint" class="swipe-hint mobile-only-flex">
                            <i data-lucide="move-horizontal"></i> <span>Swipe</span>
                        </div>
                        
                        <img id="carousel-img" src="" alt="Navigation Map">
                        
                        <button id="zoom-trigger-btn" class="zoom-badge"><i data-lucide="maximize-2"></i></button>
                        
                        <div id="carousel-dots" class="carousel-dots"></div>
                    </div>
                    
                    <div class="carousel-controls">
                        <button id="prev-img-btn" class="nav-control-btn"><i data-lucide="chevron-left"></i></button>
                        <div id="step-counter" class="step-pill">Step 1</div>
                        <button id="next-img-btn" class="nav-control-btn"><i data-lucide="chevron-right"></i></button>
                    </div>
                    
                    <div id="mobile-action-area" class="action-area" style="display: none;">
                        <button class="btn-primary full-width large" onclick="showSuccessScreen()"><i data-lucide="check-circle-2"></i> I Found It!</button>
                    </div>
                </div>
            </div>

            <div class="virtual-shelf-footer">
                <h3>Also in this section</h3>
                <div id="related-shelf" class="related-grid"></div>
            </div>
        </div>
    </div>

    <div id="qr-modal" class="modal-overlay" style="z-index: 10001 !important;">
        <div class="popup-box" style="max-width: 380px;">
            <button class="close-btn"><i data-lucide="x"></i></button>
            <div class="icon-box" style="margin: 0 auto 15px; width: 60px; height: 60px;"><i data-lucide="smartphone"></i></div>
            <h2 style="margin-bottom: 15px;">Scan to Mobile</h2>
            <div class="qr-scanner-box" style="margin-bottom: 20px;">
                <div id="qrcode"></div>
                <div class="scanner-line"></div> 
            </div>
            <div class="tip-box" style="margin-bottom: 0; text-align: left;">
                <div class="tip-header"><i data-lucide="lightbulb"></i> Quick Tip</div>
                <p style="color: var(--text-muted); font-size: 0.95rem; line-height: 1.5; margin: 0;">Open your phone's camera app and point it at this QR code to seamlessly take the navigation map with you on the go!</p>
            </div>
        </div>
    </div>

    <div id="admin-modal" class="modal-overlay">
        <div class="modal-box admin-layout">
            <button class="close-btn"><i data-lucide="x"></i></button>
            <div class="card-header" style="border:none;"><div class="icon-box"><i data-lucide="shield"></i></div><h2>Admin Panel</h2></div>
            
            <div id="admin-login-screen">
                <p class="input-label">Enter Access Key</p>
                <div class="input-with-icon">
                    <i data-lucide="lock"></i>
                    <input type="password" id="admin-password" class="input-field" placeholder="Password">
                </div>
                <button id="admin-auth-btn" class="btn-primary full-width">Login</button>
            </div>
            
          <div id="admin-dashboard" style="display:none;">
                
                <div id="admin-main-view">
                   <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <button id="open-add-view-btn" class="btn-primary" style="padding: 15px; font-size: 0.95rem;"><i data-lucide="plus-circle"></i> Add</button>
                        <button id="open-batch-view-btn" class="btn-secondary" style="padding: 15px; font-size: 0.95rem;"><i data-lucide="layers"></i> Batch</button>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px;">
                        <button id="open-broadcast-view-btn" class="btn-secondary" style="padding: 15px; font-size: 0.95rem; background: var(--primary-light); color: var(--primary); border: none;"><i data-lucide="radio"></i> Broadcast</button>
                        <button id="open-maint-view-btn" class="btn-secondary" style="padding: 15px; font-size: 0.95rem; background: rgba(245,158,11,0.1); color: var(--warning); border: none;"><i data-lucide="construction"></i> System</button>
                    </div>
                    
                    <h3 class="sub-title warning"><i data-lucide="database"></i> System Data</h3>
                    <div class="input-with-icon" style="margin-bottom: 15px;">
                        <i data-lucide="search"></i>
                        <input type="text" id="admin-search" class="input-field" style="padding: 15px 15px 15px 55px; font-size: 1rem; margin-bottom: 0;" placeholder="Search admin books...">
                    </div>
                    <div id="admin-book-list" class="admin-list"></div>
                    <button id="factory-reset-btn" class="btn-outline-warning full-width mt"><i data-lucide="alert-octagon"></i> Factory Reset</button>
                </div>

                <div id="admin-form-view" style="display:none;">
                    <button id="close-form-view-btn" class="btn-secondary" style="margin-bottom: 20px; padding: 10px;"><i data-lucide="arrow-left"></i> Back to Menu</button>
                    <h3 id="admin-form-title" class="sub-title">Add New Book</h3>
                    <input type="hidden" id="edit-book-id" value="">
                    
                    <input type="text" id="new-title" class="input-field" placeholder="Book Title">
                    <input type="text" id="new-author" class="input-field" placeholder="Author Name">
                    
                    <div class="form-grid">
                        <div>
                            <label class="input-label">Genre</label>
                            <select id="new-genre" class="input-field" style="padding-left:15px;">
                                <option value="Fiction">Fiction</option>
                                <option value="Filipiniana">Filipiniana</option>
                                <option value="Filipiniana Reference">Filipiniana Reference</option>
                                <option value="Science/Math">Science/Math</option>
                                <option value="Religion">Religion</option>
                            </select>
                        </div>
                        <div>
                            <label class="input-label">Nav Steps</label>
                            <select id="step-count-select" class="input-field" style="padding-left:15px;">
                                <option value="2">2 Steps</option>
                                <option value="3">3 Steps</option>
                                <option value="4">4 Steps</option>
                                <option value="5">5 Steps</option>
                                <option value="6">6 Steps</option>
                                <option value="7">7 Steps</option>
                                <option value="8">8 Steps</option>
                            </select>
                        </div>
                    </div>

                    <label class="filter-option highlight" style="margin-bottom: 20px; background: var(--bg-main); padding: 15px; border: 1px solid var(--border-color);">
                        <input type="checkbox" id="new-arrival-check">
                        <span class="checkmark"></span>
                        <span style="font-weight: bold; color: var(--primary);">Mark as New Arrival</span>
                    </label>
                    
                    <div id="image-inputs-container" class="dynamic-inputs"></div>

                    <button id="add-book-btn" class="btn-success full-width"><i data-lucide="upload-cloud"></i> Save to Cloud</button>
                </div>
              
              <div id="admin-batch-view" style="display:none;">
                    <button id="close-batch-view-btn" class="btn-secondary" style="margin-bottom: 20px; padding: 10px;"><i data-lucide="arrow-left"></i> Back to Menu</button>
                    <h3 class="sub-title"><i data-lucide="layers"></i> Batch Update Images</h3>
                    <p style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 15px; line-height: 1.4;">This will overwrite the map navigation images for EVERY book inside the selected category at once.</p>
                    
                    <div class="form-grid">
                        <div>
                            <label class="input-label">Target Genre</label>
                            <select id="batch-genre" class="input-field" style="padding-left:15px;">
                                <option value="Fiction">Fiction</option>
                                <option value="Filipiniana">Filipiniana</option>
                                <option value="Filipiniana Reference">Filipiniana Reference</option>
                                <option value="Science/Math">Science/Math</option>
                                <option value="Religion">Religion</option>
                            </select>
                        </div>
                        <div>
                            <label class="input-label">Nav Steps</label>
                            <select id="batch-step-count" class="input-field" style="padding-left:15px;">
                                <option value="2">2 Steps</option>
                                <option value="3">3 Steps</option>
                                <option value="4">4 Steps</option>
                                <option value="5">5 Steps</option>
                                <option value="6">6 Steps</option>
                                <option value="7">7 Steps</option>
                                <option value="8">8 Steps</option>
                            </select>
                        </div>
                    </div>

                    <div id="batch-image-inputs-container" class="dynamic-inputs"></div>

                    <button id="run-batch-btn" class="full-width mt" style="background: var(--warning); color: white; border: none; padding: 18px; border-radius: 16px; font-size: 1.1rem; font-weight: bold; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px;"><i data-lucide="alert-triangle"></i> Apply to Entire Category</button>
                </div>

            </div> </div> </div> <div id="stats-modal" class="modal-overlay">
                
        <div class="modal-box stats-layout">
            <button class="close-btn"><i data-lucide="x"></i></button>
            <div id="stats-content"></div>
        </div>
    </div>

    <div id="feedback-modal" class="modal-overlay">
        <div class="modal-box feedback-layout">
            <button class="close-btn"><i data-lucide="x"></i></button>
            <div class="feedback-header">
                <div class="feedback-icon-wrap"><i data-lucide="rocket"></i></div>
                <h2>Help Us Improve!</h2>
                <p>Your feedback fuels the next big update for LibNav.</p>
            </div>
            <form id="feedback-form" class="feedback-form">
                <div class="star-rating-input">
                    <p>Rate your experience</p>
                    <div class="stars">
                        <input type="radio" name="rating" id="star5" value="5" checked><label for="star5"><i data-lucide="star"></i></label>
                        <input type="radio" name="rating" id="star4" value="4"><label for="star4"><i data-lucide="star"></i></label>
                        <input type="radio" name="rating" id="star3" value="3"><label for="star3"><i data-lucide="star"></i></label>
                        <input type="radio" name="rating" id="star2" value="2"><label for="star2"><i data-lucide="star"></i></label>
                        <input type="radio" name="rating" id="star1" value="1"><label for="star1"><i data-lucide="star"></i></label>
                    </div>
                </div>
                <input type="text" id="fb-name" class="input-field" placeholder="Your Name (Optional)">
                <input type="email" id="fb-email" class="input-field" placeholder="Your Email (Optional)">
                <textarea id="fb-message" class="input-field" rows="4" placeholder="Tell us about a bug, a feature idea, or just say hi!" required></textarea>
                <button type="submit" id="fb-submit-btn" class="btn-primary"><i data-lucide="send"></i> Send to Developer</button>
            </form>
        </div>
    </div>

    <div id="success-modal" class="modal-overlay">
        <div class="popup-box">
            <button class="close-btn"><i data-lucide="x"></i></button>
            <div class="success-icon"><i data-lucide="check-circle-2"></i></div>
            <h2>Mission Accomplished!</h2>
            <p style="margin: 15px 0 25px 0; color:var(--text-muted);">You found the book! Don't forget to formally check it out at the front desk before you leave.</p>
            <button class="btn-primary full-width" onclick="closeSuccessScreen()">Got it, thanks!</button>
        </div>
    </div>

   <div id="shush-overlay">
        <div class="easter-egg-frame">
            <div class="tenor-gif-embed" data-postid="25024475" data-share-method="host" data-aspect-ratio="1" data-width="100%"><a href="https://tenor.com/view/shushers-shhh-gif-25024475">Shushers Shhh Sticker</a>from <a href="https://tenor.com/search/shushers-stickers">Shushers Stickers</a></div> 
            <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
        </div>
        <h1 id="shush-text">SHHHHH!</h1>
    </div>
    
    <div id="screensaver" class="screensaver">
        <h1 class="hero-title">LibNav</h1>
        <p style="margin-bottom: 50px;">Touch screen to start</p>
        <div class="tip-box" style="max-width: 400px; text-align: left; background: var(--surface); border-color: var(--border-color); padding: 20px;">
            <div class="tip-header" style="color: var(--primary);"><i data-lucide="sparkles"></i> Did you know?</div>
            <p id="screensaver-fact" style="color: var(--text-muted); font-size: 0.95rem; line-height: 1.5; margin: 0; text-transform: none; font-weight: normal; letter-spacing: normal; animation: none;">Loading a fun fact...</p>
        </div>
    </div>
            <div id="zoom-modal" class="modal-overlay" style="z-index: 20000; background: rgba(0,0,0,0.95); display: none;">
        <button id="close-zoom-btn" class="close-btn" style="position:fixed; top:20px; right:20px; background:rgba(255,255,255,0.1); color:white; border:none;"><i data-lucide="x"></i></button>
        <img id="zoomed-image" src="" style="max-width:100%; max-height:100%; object-fit:contain; transition: transform 0.2s;">
    </div>

    <div id="admin-broadcast-view" class="modal-overlay" style="z-index: 10005;">
        <div class="modal-box">
            <button id="close-broadcast-admin-btn" class="close-btn"><i data-lucide="x"></i></button>
            <h3 class="sub-title"><i data-lucide="radio"></i> System Broadcast</h3>
          <p style="color:var(--text-muted); font-size:0.85rem; margin-bottom:15px;">Push an alert to all users instantly.</p>
            
            <select id="bc-theme" class="input-field" style="margin-bottom: 15px; font-weight: bold;">
                <option value="info">ðŸ”µ Info (Blue)</option>
                <option value="success">ðŸŸ¢ Success (Green)</option>
                <option value="warning">ðŸŸ  Warning (Orange)</option>
                <option value="alert">ðŸ”´ Urgent Alert (Red)</option>
            </select>
            
            <input type="text" id="bc-title" class="input-field" placeholder="Broadcast Title (e.g., Update!)">
            <textarea id="bc-msg" class="input-field" rows="4" placeholder="Type your announcement here..."></textarea>
            <button id="send-broadcast-btn" class="btn-success full-width"><i data-lucide="send"></i> Send to All Users</button>
            <button id="clear-broadcast-btn" class="btn-outline-warning full-width mt"><i data-lucide="trash-2"></i> Clear Active Broadcast</button>
        </div>
    </div>

    <div id="welcome-modal" class="modal-overlay" style="z-index: 20000;">
        <div class="modal-box welcome-layout">
            <div class="welcome-icon-wrap"><i data-lucide="map"></i></div>
            <h2>Welcome to LibNav!</h2>
            <div class="steps-container" style="text-align: left; margin-bottom: 25px;">
                <div class="step-item"><div class="step-num" style="width:25px;height:25px;font-size:0.9rem;">1</div><div class="step-text"><strong>Search</strong><span>Find books by title or author.</span></div></div>
                <div class="step-item"><div class="step-num" style="width:25px;height:25px;font-size:0.9rem;">2</div><div class="step-text"><strong>Navigate</strong><span>Tap a cover to see the shelf map.</span></div></div>
                <div class="step-item"><div class="step-num" style="width:25px;height:25px;font-size:0.9rem;">3</div><div class="step-text"><strong>Zoom</strong><span>Pinch the map to look closer!</span></div></div>
            </div>
            <label class="filter-option" style="margin-bottom:15px; justify-content:center;">
                <input type="checkbox" id="never-show-welcome"><span class="checkmark"></span><span>Never remind me again</span>
            </label>
            <button id="start-libnav-btn" class="btn-primary full-width">Let's Go!</button>
        </div>
    </div>

    <div id="user-broadcast-modal" class="modal-overlay" style="z-index: 21000;">
        <div class="modal-box broadcast-layout" style="border: 2px solid var(--primary);">
            <div class="welcome-icon-wrap" style="background:var(--primary); color:white;"><i data-lucide="bell-ring"></i></div>
            <h2 id="ub-title">Announcement</h2>
            <p id="ub-msg" style="color:var(--text-muted); margin-bottom:25px; line-height:1.5;">Message goes here.</p>
            <button id="ub-got-it-btn" class="btn-primary full-width">I Understand</button>
        </div>
        </div>

<div id="maintenance-overlay">
        <div class="maint-icon-container">
            <i data-lucide="settings" class="maint-cog main-cog"></i>
            <i data-lucide="settings" class="maint-cog sub-cog"></i>
        </div>
        
        <h1>We're <span>Upgrading!</span></h1>
        <p>LibNav is currently closed for some quick system upgrades to make your library experience even better.</p>
        
        <div class="tip-box" style="text-align: left; width: 100%; max-width: 380px;">
            <div class="tip-header"><i data-lucide="clock"></i> Check Back Soon</div>
            <p style="color:var(--text-muted); font-size:0.95rem; line-height:1.5; margin:0;">Our system architects are working as fast as they can. Grab a coffee and refresh the page in a few minutes!</p>
        </div>
    </div>
    
    <div id="admin-maint-modal" class="modal-overlay" style="z-index: 10005;">
        <div class="modal-box">
            <button id="close-maint-modal-btn" class="close-btn"><i data-lucide="x"></i></button>
            <h3 class="sub-title"><i data-lucide="settings"></i> System Settings</h3>
            <p style="color:var(--text-muted); font-size:0.85rem; margin-bottom:20px; line-height: 1.4;">Enable maintenance mode to temporarily block all regular users from accessing LibNav. Admins will still have full access.</p>
            
            <div class="switch-wrapper">
                <div class="switch-label"><i data-lucide="power" style="color: var(--warning);"></i> Maintenance Mode</div>
                <label class="switch">
                    <input type="checkbox" id="maint-toggle-switch">
                    <span class="slider"></span>
                </label>
            </div>
            
            <button id="save-maint-btn" class="btn-primary full-width"><i data-lucide="save"></i> Save Settings</button>
        </div>
    </div>
    
    <script src="database.js"></script>
    <script src="app.js"></script>
</body>
</html>
